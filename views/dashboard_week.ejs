<%- include('components/header') %>

<body class="font-sans bg-slate-50">
    
<!-- <div class="flex "> -->
    <div >
        <nav class="py-4  bg-blue-400 text-white text-base">
            <ul class="flex ">
                <li class="px-5 mr-14 text-xl font-bold">LPMS</li>
                <!-- <li class="font-bold text-lg "><a href="/subjects">Subjects</a></li> -->
                <a class="font-bold text-lg mr-4" href="/subjects/">Subjects</a>&nbsp;
                <a class="font-bold text-lg mx-4" href="/subjects/<%= JSON.parse(subject)._id %>/plan">Weekly Plan</a>&nbsp;
                <a class="font-bold text-lg mx-4" href="/subjects/<%= JSON.parse(subject)._id %>/chapter">Chapters</a>
                <a class="font-bold text-lg mx-4" href="/subjects/<%= JSON.parse(subject)._id %>/assignment">Assignments</a>&nbsp;
                <a class="font-bold text-lg mx-4" href="/subjects/<%= JSON.parse(subject)._id %>/resource">Resources</a>&nbsp;
                <li class="absolute right-0 h-16 pr-20 rounded-full">
                <form class="rounded-full bg-indigo-700 px-10 py-1 hover:bg-indigo-900" action="/logout" method="post"><input class = "hover:cursor-pointer" type="submit" value="Logout"></form>
              </li>

            </ul>
          </nav>
        </div>        
    </div>
    <!-- <div class="flex flex-col w-full"> -->

    <!-- <div class="p-4 text-xl bg-indigo-200 border-2">
        <a class="p-2" href="/subjects/<%= JSON.parse(subject)._id %>/chapter">Chapters</a>
        <a class="p-2" href="/subjects/<%= JSON.parse(subject)._id %>/assignment">Assignments</a>&nbsp;
        <a class="p-2" href="/subjects/<%= JSON.parse(subject)._id %>/resource">Resources</a>&nbsp;
    </div> -->
    
    <div class="mx-52">
        <div class="p-5">
            <div class="flex my-3 py-3">
                <h2 class="text-2xl mx-10 "><span class=" align-middle">Week plan for <%= JSON.parse(subject).name %> </span></h2>

                <form method="POST" action="/week/create" >
                    <input
                    type="hidden"
                    name="subjectId"
                    value="<%= JSON.parse(subject)._id %>"
                    />
                    <button class="rounded bg-blue-400 p-2 mx-4" type="submit" >
                      Add Weeks
                    </button>  
                    
                </form>

                <form  method="POST" action="/subjects/<%= JSON.parse(subject)._id %>/plan/deleteAllWeeks">
                    <button class="text-red-500 rounded bg-blue-400 p-2 mx-4" onclick="deleteWeeks()">Delete All</button>
                </form>
            </div>    
            

                    

            <div class="mx-5" id="weeksContainer">
                <% for(let week in weeks) { %>
                    <p>Week <%= parseInt(week)+1 %>
                        <a class="text-blue-700 mx-2" href="/subjects/<%= JSON.parse(subject)._id %>/plan/<%=  weeks[week]._id%>">edit</a>
                        <a class="text-red-500 mx-2" href="/subjects/<%= JSON.parse(subject)._id %>/plan/<%=  weeks[week]._id%>/delete">Delete</a>
                    </p>
                    <% } %>
                </div>

            </div>
        </div>
        </div>

    </div>
<!-- 
    <script>
        function deleteWeeks() {
            let weeks = '<=0/0 weeks 0/0>';  
            weeks = '0' ;
          var weeksContainer = document.getElementById("weeksContainer");
          weeksContainer.innerHTML = ""; // Remove the HTML content inside the weekContainer div
        }
      </script> -->
        
</body>
    <%- include('components/footer') %>
        




